"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[8795],{5747:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>m,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"ocolecionadorbackend-advanced","title":"OColecionadorBackEnd - Fluxos Avan\xe7ados","description":"Este documento detalha os fluxos mais complexos envolvendo m\xfaltiplos servi\xe7os, bancos de dados e fila de mensagens.","source":"@site/docs/ocolecionadorbackend-advanced.md","sourceDirName":".","slug":"/ocolecionadorbackend-advanced","permalink":"/OColecionador/docs/ocolecionadorbackend-advanced","draft":false,"unlisted":false,"editUrl":"https://github.com/PatrickCalorioCarvalho/OColecionador/edit/main/Documentation/docs/docs/ocolecionadorbackend-advanced.md","tags":[],"version":"current","frontMatter":{"id":"ocolecionadorbackend-advanced","title":"OColecionadorBackEnd - Fluxos Avan\xe7ados","sidebar_label":"Avan\xe7ado"},"sidebar":"docs","previous":{"title":"Introdu\xe7\xe3o","permalink":"/OColecionador/docs/ocolecionadorbackend"},"next":{"title":"Introdu\xe7\xe3o","permalink":"/OColecionador/docs/ocolecionadoraugmentations"}}');var i=r(4848),o=r(8453);const t={id:"ocolecionadorbackend-advanced",title:"OColecionadorBackEnd - Fluxos Avan\xe7ados",sidebar_label:"Avan\xe7ado"},s="OColecionadorBackEnd - Fluxos Avan\xe7ados",d={},c=[{value:"\ud83d\udd04 Fluxo 1: Pipeline Completo Upload \u2192 Augmentations \u2192 Training",id:"-fluxo-1-pipeline-completo-upload--augmentations--training",level:2},{value:"\ud83c\udfaf Fluxo 2: Classifica\xe7\xe3o com Busca de Similaridade",id:"-fluxo-2-classifica\xe7\xe3o-com-busca-de-similaridade",level:2},{value:"\ud83d\udc33 Fluxo 3: Orquestra\xe7\xe3o de Containers Docker",id:"-fluxo-3-orquestra\xe7\xe3o-de-containers-docker",level:2},{value:"\ud83d\udcca Fluxo 4: Get Items com Presigned URLs do MinIO",id:"-fluxo-4-get-items-com-presigned-urls-do-minio",level:2},{value:"\ud83d\udd10 Fluxo 5: Autentica\xe7\xe3o OAuth2 com Token Validation",id:"-fluxo-5-autentica\xe7\xe3o-oauth2-com-token-validation",level:2},{value:"\u26a0\ufe0f Tratamento de Erros e Retry Logic",id:"\ufe0f-tratamento-de-erros-e-retry-logic",level:2},{value:"\ud83d\udcc8 Diagram de Carga: M\xfaltiplas Requisi\xe7\xf5es Simult\xe2neas",id:"-diagram-de-carga-m\xfaltiplas-requisi\xe7\xf5es-simult\xe2neas",level:2},{value:"\ud83c\udfaf Conclus\xe3o",id:"-conclus\xe3o",level:2}];function l(e){const n={br:"br",h1:"h1",h2:"h2",header:"header",hr:"hr",mermaid:"mermaid",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ocolecionadorbackend---fluxos-avan\xe7ados",children:"OColecionadorBackEnd - Fluxos Avan\xe7ados"})}),"\n",(0,i.jsx)(n.p,{children:"Este documento detalha os fluxos mais complexos envolvendo m\xfaltiplos servi\xe7os, bancos de dados e fila de mensagens."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-fluxo-1-pipeline-completo-upload--augmentations--training",children:"\ud83d\udd04 Fluxo 1: Pipeline Completo Upload \u2192 Augmentations \u2192 Training"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    autonumber\r\n    participant Mobile as \ud83d\udcf1 App Mobile\r\n    participant Backend as \ud83d\udd0c Backend API\r\n    participant MinIO as \ud83d\udce6 MinIO Storage\r\n    participant SQLServer as \ud83d\udcbe SQL Server\r\n    participant RabbitMQ as \ud83d\udce8 RabbitMQ\r\n    participant Augmentations as \ud83c\udfa8 Augmentations\r\n    participant PostgreSQL as \ud83d\uddc4\ufe0f PostgreSQL\r\n    participant Training as \ud83e\udde0 Training Service\r\n\r\n    Mobile->>Backend: POST /api/Items (FormData com foto)\r\n    Backend->>Backend: Valida token OAuth\r\n    Backend->>MinIO: UploadFile(bucket: original, path: item/{itemId}/original.jpg)\r\n    MinIO--\x3e>Backend: { url, etag }\r\n    Backend->>SQLServer: INSERT INTO Fotos (ItemId, Caminho, CreatedAt)\r\n    SQLServer--\x3e>Backend: { fotoId }\r\n    Backend->>RabbitMQ: PublishMessage('ImageAugmentations', { itemId, fotoCaminho, categoria })\r\n    Backend--\x3e>Mobile: { success: true, itemId, fotoId }\r\n\r\n    RabbitMQ->>Augmentations: ConsumeMessage('ImageAugmentations')\r\n    Augmentations->>Augmentations: Conecta ao PostgreSQL\r\n    Augmentations->>MinIO: DownloadFile(bucket: original, path: item/{itemId}/original.jpg)\r\n    MinIO--\x3e>Augmentations: Stream de imagem\r\n    \r\n    Augmentations->>Augmentations: Aplica augmentations:<br/>- Rota\xe7\xe3o (90\xb0, 180\xb0, 270\xb0)<br/>- Flip horizontal/vertical<br/>- Ajuste de brilho/contraste<br/>- Crop central<br/>- Mudan\xe7a de cor/satura\xe7\xe3o\r\n\r\n    loop Para cada varia\xe7\xe3o\r\n        Augmentations->>Augmentations: Gera nova imagem\r\n        Augmentations->>MinIO: UploadFile(bucket: processed, path: training/{categoria}/{variacao}.jpg)\r\n        Augmentations->>PostgreSQL: INSERT INTO AugmentationMetadata\r\n    end\r\n\r\n    Augmentations->>RabbitMQ: PublishMessage('ModelTraining', { batchId, totalImages })\r\n    \r\n    RabbitMQ->>Training: ConsumeMessage('ModelTraining')\r\n    Training->>Training: Conecta ao PostgreSQL\r\n    Training->>Training: Consulta todas as imagens processadas\r\n    Training->>MinIO: DownloadFile(bucket: processed, path: training/{categoria}/*.jpg)\r\n    MinIO--\x3e>Training: Stream de m\xfaltiplas imagens\r\n    \r\n    Training->>Training: Pr\xe9-processamento:<br/>- Redimensiona para 224x224<br/>- Normaliza valores de pixel<br/>- Cria splits train/val/test<br/>- Calcula augmentation stats\r\n\r\n    Training->>Training: Treina modelo TensorFlow:<br/>- Transfer Learning (MobileNetV2)<br/>- Otimizador Adam<br/>- Loss: categorical_crossentropy<br/>- Epochs: 100<br/>- Early stopping\r\n\r\n    Training->>Training: Gera embeddings com FAISS:<br/>- Extrai features de layer pen\xfaltimo<br/>- Cria \xedndice FAISS<br/>- Salva para busca de similaridade\r\n\r\n    Training->>MinIO: UploadFile(bucket: models, path: models/v{timestamp}/model.h5)\r\n    Training->>MinIO: UploadFile(bucket: models, path: models/v{timestamp}/embeddings.faiss)\r\n    Training->>PostgreSQL: INSERT INTO ModelMetrics<br/>(accuracy, loss, val_accuracy, timestamp)\r\n    Training->>Backend: POST /api/UpdateModelVersion { modelPath, embeddings }\r\n    Backend->>SQLServer: UPDATE Models SET CurrentVersion = v{timestamp}"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-fluxo-2-classifica\xe7\xe3o-com-busca-de-similaridade",children:"\ud83c\udfaf Fluxo 2: Classifica\xe7\xe3o com Busca de Similaridade"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    autonumber\r\n    participant Mobile as \ud83d\udcf1 App Mobile\r\n    participant Backend as \ud83d\udd0c Backend API\r\n    participant MinIO as \ud83d\udce6 MinIO Storage\r\n    participant SQLServer as \ud83d\udcbe SQL Server\r\n    participant Classifier as \ud83e\udd16 Classifier API\r\n    participant FAISS as \ud83d\udd0d FAISS Index\r\n\r\n    Mobile->>Backend: POST /api/Clasificar (FormData com foto)\r\n    Backend->>Backend: Valida token OAuth\r\n    Backend->>MinIO: UploadFile(bucket: temp, path: uploads/{timestamp}.jpg)\r\n    MinIO--\x3e>Backend: { path }\r\n    Backend->>SQLServer: INSERT INTO TemporaryUpload (Path, Timestamp)\r\n    \r\n    Backend->>Classifier: POST /classify { imagePath: 'uploads/{timestamp}.jpg' }\r\n    Classifier->>MinIO: DownloadFile(bucket: temp, path: uploads/{timestamp}.jpg)\r\n    MinIO--\x3e>Classifier: Imagem bytes\r\n    \r\n    Classifier->>Classifier: Pr\xe9-processamento:<br/>- Redimensiona para 224x224<br/>- Normaliza pixel values<br/>- Converte para tensor\r\n\r\n    Classifier->>Classifier: Forward pass TensorFlow:<br/>- MobileNetV2 layers<br/>- Output softmax<br/>- Extract embeddings\r\n\r\n    Classifier->>Classifier: Classifica\xe7\xe3o:<br/>- Classe: argmax(softmax)<br/>- Confian\xe7a: max(softmax)<br/>- Threshold: 0.75\r\n\r\n    Classifier->>FAISS: LoadIndex(embeddings.faiss)\r\n    Classifier->>FAISS: Search(query_embedding, k=5)\r\n    FAISS--\x3e>Classifier: { distances, indices }\r\n    \r\n    Classifier->>SQLServer: SELECT TOP 5 Items WHERE Index IN (indices)\r\n    SQLServer--\x3e>Classifier: [{ id, nome, categoria, distancia }]\r\n\r\n    Classifier--\x3e>Backend: {<br/>  classe: 'carro',<br/>  confianca: 0.92,<br/>  embedding: [...],<br/>  semelhantes: [<br/>    { itemId: 1, nome: 'Ferrari', distancia: 0.08 },<br/>    { itemId: 2, nome: 'Lamborghini', distancia: 0.12 }<br/>  ]<br/>}\r\n\r\n    Backend->>SQLServer: INSERT INTO Classifications<br/>(ImagePath, Classe, Confianca, Timestamp)\r\n    Backend->>SQLServer: UPDATE TemporaryUpload SET Classified = 1\r\n    Backend--\x3e>Mobile: {<br/>  classe: 'carro',<br/>  confianca: '92%',<br/>  itemsSemelhantes: [<br/>    { id: 1, nome: 'Ferrari', foto: 'https://...' },<br/>    { id: 2, nome: 'Lamborghini', foto: 'https://...' }<br/>  ]<br/>}"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-fluxo-3-orquestra\xe7\xe3o-de-containers-docker",children:"\ud83d\udc33 Fluxo 3: Orquestra\xe7\xe3o de Containers Docker"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    autonumber\r\n    participant Frontend as \ud83c\udf10 Frontend React\r\n    participant Backend as \ud83d\udd0c Backend API\r\n    participant DockerSocket as \ud83d\udd0c Docker Socket\r\n    participant DockerDaemon as \ud83d\udc33 Docker Daemon\r\n    participant Container as \ud83c\udfaf Container Process\r\n\r\n    Frontend->>Frontend: Admin clica em \"Start Training\"\r\n    Frontend->>Backend: GET /api/Docker (listar containers)\r\n    Backend->>DockerSocket: docker.Containers.ListContainersAsync()\r\n    DockerSocket->>DockerDaemon: GET /containers/json?all=true\r\n    DockerDaemon--\x3e>DockerSocket: [{ Id, Names, State, Status, Image }]\r\n    DockerSocket--\x3e>Backend: ContainerListResponse[]\r\n    Backend--\x3e>Frontend: [{<br/>  id: 'abc123...',<br/>  names: ['/ocolecionadortraining'],<br/>  state: 'exited',<br/>  status: 'Exited (0)',<br/>  image: 'ocolecionadortraining:latest'<br/>}]\r\n\r\n    Frontend->>Frontend: Renderiza bot\xe3o \"Start\"\r\n    Frontend->>Backend: POST /api/Docker/start/abc123\r\n    Backend->>Backend: Valida token OAuth\r\n    Backend->>DockerSocket: docker.Containers.StartContainerAsync(containerId)\r\n    DockerSocket->>DockerDaemon: POST /containers/{id}/start\r\n    DockerDaemon->>Container: SIGTERM+SIGKILL \u2192 docker run\r\n    Container->>Container: Inicializa processo Python\r\n    \r\n    DockerDaemon--\x3e>DockerSocket: { StatusCode: 204 } \u2713\r\n    DockerSocket--\x3e>Backend: { Status: 204 }\r\n    Backend--\x3e>Frontend: { success: true, status: 'running' }\r\n    \r\n    Frontend->>Frontend: Atualiza UI \u2192 \"Running\"\r\n\r\n    Container->>Container: python main.py (Training)\r\n    Container->>Container: [*] Aguardando mensagens RabbitMQ...\r\n    Container->>RabbitMQ: Conecta ao broker\r\n    Container->>Container: Consome filas ImageAugmentations\r\n\r\n    alt Container recebe sinal\r\n        Frontend->>Backend: POST /api/Docker/stop/abc123\r\n        Backend->>DockerSocket: docker.Containers.StopContainerAsync(containerId)\r\n        DockerSocket->>DockerDaemon: POST /containers/{id}/stop?t=10\r\n        DockerDaemon->>Container: SIGTERM (10s timeout)\r\n        Container->>Container: Cleanup (salva modelo)\r\n        DockerDaemon->>Container: SIGKILL\r\n        Container->>Container: \u274c Encerrado\r\n    else\r\n        Container->>Container: Completa treinamento com sucesso\r\n        Container->>MinIO: Salva modelo\r\n        Container->>PostgreSQL: Salva m\xe9tricas\r\n        Container->>Container: exit(0)\r\n    end"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-fluxo-4-get-items-com-presigned-urls-do-minio",children:"\ud83d\udcca Fluxo 4: Get Items com Presigned URLs do MinIO"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    autonumber\r\n    participant Frontend as \ud83c\udf10 Frontend React\r\n    participant Backend as \ud83d\udd0c Backend API\r\n    participant SQLServer as \ud83d\udcbe SQL Server\r\n    participant MinIO as \ud83d\udce6 MinIO\r\n\r\n    Frontend->>Backend: GET /api/Items\r\n    Backend->>Backend: Valida token OAuth\r\n    Backend->>SQLServer: SELECT * FROM Items<br/>INCLUDE(Fotos)<br/>INCLUDE(Categoria)\r\n\r\n    SQLServer--\x3e>Backend: [{<br/>  id: 1,<br/>  nome: 'Ferrari 250',<br/>  categoriaId: 1,<br/>  fotos: [{<br/>    id: 1,<br/>    caminho: 'item/1/original.jpg'<br/>  }]<br/>}]\r\n\r\n    Backend->>Backend: Para cada item:\r\n    Backend->>Backend: Para cada foto:\r\n\r\n    loop Para cada Foto\r\n        Backend->>MinIO: GetPresignedUrlAsync(bucket: original, path: item/1/original.jpg)\r\n        MinIO--\x3e>Backend: URL com assinatura tempor\xe1ria:<br/>https://minio:9000/original/item/1/original.jpg?<br/>X-Amz-Algorithm=...&<br/>X-Amz-Credential=...&<br/>X-Amz-Date=...&<br/>X-Amz-Expires=3600&<br/>X-Amz-Signature=...\r\n    end\r\n\r\n    Backend--\x3e>Frontend: [{<br/>  id: 1,<br/>  nome: 'Ferrari 250',<br/>  categoriaId: 1,<br/>  fotos: [<br/>    'https://minio.../item/1/original.jpg?X-Amz-...'<br/>  ]<br/>}]\r\n\r\n    Frontend->>Frontend: Renderiza lista de itens\r\n    Frontend->>MinIO: GET presigned_url (download autom\xe1tico)\r\n    MinIO--\x3e>Frontend: Imagem JPEG/PNG\r\n    Frontend->>Frontend: Exibe miniatura"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-fluxo-5-autentica\xe7\xe3o-oauth2-com-token-validation",children:"\ud83d\udd10 Fluxo 5: Autentica\xe7\xe3o OAuth2 com Token Validation"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\r\n    autonumber\r\n    participant Mobile as \ud83d\udcf1 App Mobile\r\n    participant Frontend as \ud83c\udf10 Frontend React\r\n    participant Backend as \ud83d\udd0c Backend API\r\n    participant GoogleOAuth as \ud83d\udd11 Google OAuth\r\n    participant GitHubOAuth as \ud83d\udd11 GitHub OAuth\r\n\r\n    Mobile->>GoogleOAuth: 1\ufe0f\u20e3 Abre Google Login\r\n    GoogleOAuth->>Mobile: Formul\xe1rio de login\r\n    Mobile->>GoogleOAuth: Credenciais do usu\xe1rio\r\n    GoogleOAuth--\x3e>Mobile: authorization_code\r\n    Mobile->>Backend: POST /api/auth/callback?code=...&provider=google\r\n    \r\n    Backend->>Backend: Valida state (CSRF)\r\n    Backend->>GoogleOAuth: POST /token { code, client_id, client_secret }\r\n    GoogleOAuth--\x3e>Backend: {<br/>  access_token: 'ya29...',<br/>  token_type: 'Bearer',<br/>  expires_in: 3600<br/>}\r\n    \r\n    Backend->>GoogleOAuth: GET /userinfo (using access_token)\r\n    GoogleOAuth--\x3e>Backend: {<br/>  id: '123456789',<br/>  email: 'user@gmail.com',<br/>  name: 'Jo\xe3o Silva',<br/>  picture: 'https://...'<br/>}\r\n\r\n    Backend->>SQLServer: SELECT * FROM Users WHERE ExternalId = '123456789'\r\n    alt User n\xe3o existe\r\n        SQLServer--\x3e>Backend: null\r\n        Backend->>SQLServer: INSERT INTO Users (ExternalId, Email, Name, Provider)\r\n    else User existe\r\n        SQLServer--\x3e>Backend: User record\r\n    end\r\n\r\n    Backend->>Backend: Gera JWT token:<br/>- Header: { typ: 'JWT', alg: 'HS256' }<br/>- Payload: { sub: userId, email, provider }<br/>- Signature: HMAC-SHA256(secret)\r\n\r\n    Backend--\x3e>Mobile: {<br/>  token: 'eyJhbGciOiJIUzI1NiIs...',<br/>  provider: 'google',<br/>  user: { name, email, picture }<br/>}\r\n\r\n    Mobile->>Mobile: localStorage.setItem('token', 'google_OC_eyJ...')\r\n    Mobile->>Mobile: Redireciona para Dashboard\r\n\r\n    alt Pr\xf3xima requisi\xe7\xe3o\r\n        Mobile->>Backend: GET /api/Items<br/>Header: Authorization: Bearer eyJ...\r\n        Backend->>OAuthMiddleware: Valida token\r\n        OAuthMiddleware->>OAuthMiddleware: Decodifica JWT<br/>- Verifica assinatura<br/>- Valida expiration<br/>- Extrai claims\r\n        OAuthMiddleware--\x3e>Backend: { userId, provider, claims }\r\n        Backend->>SQLServer: SELECT * FROM Users WHERE Id = userId\r\n        Backend->>Backend: Executa opera\xe7\xe3o autorizada\r\n    end"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-tratamento-de-erros-e-retry-logic",children:"\u26a0\ufe0f Tratamento de Erros e Retry Logic"}),"\n",(0,i.jsx)(n.mermaid,{value:'sequenceDiagram\r\n    autonumber\r\n    participant Backend as \ud83d\udd0c Backend API\r\n    participant RabbitMQ as \ud83d\udce8 RabbitMQ\r\n    participant Augmentations as \ud83c\udfa8 Augmentations\r\n    participant MinIO as \ud83d\udce6 MinIO\r\n\r\n    Backend->>RabbitMQ: PublishMessage(\'ImageAugmentations\', msg)\r\n    RabbitMQ--\x3e>Backend: Message enqueued\r\n    \r\n    RabbitMQ->>Augmentations: Delivery 1\r\n    Augmentations->>MinIO: DownloadFile (Tentativa 1)\r\n    MinIO--\x3e>Augmentations: \u274c Connection timeout\r\n    Augmentations->>Augmentations: Log erro: "MinIO timeout"\r\n    Augmentations->>RabbitMQ: NACK (requeue=true)\r\n    \r\n    RabbitMQ->>RabbitMQ: Aguarda 5s\r\n    RabbitMQ->>Augmentations: Delivery 2 (Tentativa 2)\r\n    Augmentations->>MinIO: DownloadFile (Tentativa 2)\r\n    MinIO--\x3e>Augmentations: \u274c Access denied (credenciais)\r\n    Augmentations->>Augmentations: Log erro: "MinIO auth failed"\r\n    Augmentations->>RabbitMQ: NACK (requeue=false)\r\n    \r\n    RabbitMQ->>RabbitMQ: Move para Dead Letter Queue\r\n    Backend->>RabbitMQ: Monitora DLQ\r\n    Backend->>Backend: Alert: Message failed 3x\r\n    Backend->>SQLServer: INSERT INTO ErrorLog (msg, reason, timestamp)\r\n    Backend->>Monitoring: Sentry.captureException()'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-diagram-de-carga-m\xfaltiplas-requisi\xe7\xf5es-simult\xe2neas",children:"\ud83d\udcc8 Diagram de Carga: M\xfaltiplas Requisi\xe7\xf5es Simult\xe2neas"}),"\n",(0,i.jsx)(n.mermaid,{value:'graph TB\r\n    subgraph Users["\ud83d\udc65 M\xfaltiplos Usu\xe1rios"]\r\n        U1["User 1"]\r\n        U2["User 2"]\r\n        U3["User 3"]\r\n        U4["User 4"]\r\n    end\r\n\r\n    subgraph LoadBalancer["\u2696\ufe0f Load Balancer / Reverse Proxy"]\r\n        LB["Nginx"]\r\n    end\r\n\r\n    subgraph BackendPool["\ud83d\udd0c Backend Pool"]\r\n        BE1["Instance 1<br/>Port 5000"]\r\n        BE2["Instance 2<br/>Port 5001"]\r\n        BE3["Instance 3<br/>Port 5002"]\r\n    end\r\n\r\n    subgraph Database["\ud83d\udcbe Data Layer"]\r\n        SQLServer["SQL Server<br/>Connection Pool"]\r\n        Cache["Redis<br/>Cache"]\r\n    end\r\n\r\n    subgraph Services["\ud83d\udce6 External Services"]\r\n        MinIO["MinIO"]\r\n        RabbitMQ["RabbitMQ"]\r\n    end\r\n\r\n    U1 --\x3e|POST /Items| LB\r\n    U2 --\x3e|GET /Items| LB\r\n    U3 --\x3e|POST /Clasificar| LB\r\n    U4 --\x3e|GET /Docker| LB\r\n\r\n    LB --\x3e|Round Robin| BE1\r\n    LB --\x3e|Round Robin| BE2\r\n    LB --\x3e|Round Robin| BE3\r\n\r\n    BE1 --\x3e|Query| SQLServer\r\n    BE2 --\x3e|Query| SQLServer\r\n    BE3 --\x3e|Query| SQLServer\r\n\r\n    BE1 --\x3e|GET/SET| Cache\r\n    BE2 --\x3e|GET/SET| Cache\r\n    BE3 --\x3e|GET/SET| Cache\r\n\r\n    BE1 --\x3e|Upload/Download| MinIO\r\n    BE2 --\x3e|Upload/Download| MinIO\r\n    BE3 --\x3e|Upload/Download| MinIO\r\n\r\n    BE1 --\x3e|Publish| RabbitMQ\r\n    BE2 --\x3e|Publish| RabbitMQ\r\n    BE3 --\x3e|Publish| RabbitMQ\r\n\r\n    style Users fill:#e1f5ff\r\n    style LoadBalancer fill:#fff3e0\r\n    style BackendPool fill:#f3e5f5\r\n    style Database fill:#e8f5e9\r\n    style Services fill:#fce4ec'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-conclus\xe3o",children:"\ud83c\udfaf Conclus\xe3o"}),"\n",(0,i.jsx)(n.p,{children:"Os fluxos acima ilustram a complexidade da orquestra\xe7\xe3o entre:"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Frontend/Mobile"})," \u2013 Interfaces do usu\xe1rio",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Backend .NET"})," \u2013 L\xf3gica central",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"SQL Server + PostgreSQL"})," \u2013 Persist\xeancia",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"MinIO"})," \u2013 Storage distribu\xeddo",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"RabbitMQ"})," \u2013 Fila ass\xedncrona",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Servi\xe7os de IA"})," \u2013 Classifica\xe7\xe3o e treinamento",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Docker API"})," \u2013 Orquestra\xe7\xe3o de containers"]}),"\n",(0,i.jsxs)(n.p,{children:["O sistema foi projetado com ",(0,i.jsx)(n.strong,{children:"resili\xeancia, escalabilidade e observabilidade"})," em mente."]})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);